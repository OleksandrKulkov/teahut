---
import { Image } from "astro:assets";

const { image, imageAlt, category, title, url } = Astro.props;
---

<article>
	<a href={url} data-astro-prefetch>
		<div class="container">
			<Image
			src={image} 
			alt=""
			class="teaImage" 
			/>
			<h2>{title}</h2>
			<p class="categories" data-category={category}></p>
		</div>
    </a>
</article>

<style>
    article {
		margin: 0 auto;
	/* color code by category */
		border: 1px solid oklch(93% 0.1 var(--hue));
		border-radius: .6rem;
		--hue: 0;

		&:has([data-category="shengcha"]) {
			--hue: 112.44;
		}

		&:has([data-category="heicha"]) {
			--hue: 93.5;
		}

		&:has([data-category="hongcha"]) {
			--hue: 50.61;
		}

		&:has([data-category="baicha&lucha"]) {
			--hue: 146.65;
		}

		&:has([data-category="wulong&gaba"]) {
			--hue: 167.82;
		}

		& img {
			border-radius: .6rem .6rem 0 0;
		}

		& .categories {
			background: oklch(87% 0.09 var(--hue));
			color: oklch(60% 0.104 var(--hue));
			text-align: center;
		}
	}

    a {
        /* color: var(--active); */
        text-decoration: none;
    }

	.container {
		min-height: 100%;
		display: flex;
		flex-direction: column;
	}

    .teaImage {
        max-width: 540px;
        width: 100%;
        height: 100%;
		border-radius: 0.5rem;
		display: block;
		inline-size: 100%;
		object-fit: cover;
    }

    h2 {
		flex-grow: 1;
        /* color: oklch(25% 0.104 146.51); */
		font-size: clamp(1rem, 9cqw, 1.2rem);
		font-weight: 600;
		letter-spacing: 0.1em;
		line-height: 1.1;
		margin: clamp(0.125rem, 2cqw, 0.375rem) auto;
        text-align: center;
    }

    .categories {
		border-radius: 0 0 .6rem .6rem;
		font-size: clamp(0.8rem, 5.5cqw, 1.1rem);
		letter-spacing: 0.15em;
		line-height: 1;
		margin: 0;
		padding: clamp(0.1rem, 2cqw, 0.3rem);
		font-variant: small-caps;
	}

	.categories::after {
		content: attr(data-category);
	}

</style>
