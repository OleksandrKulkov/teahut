---
import { Image } from "astro:assets";

const { image, imageAlt, category, title, url } = Astro.props;
---

<article>
    <a href={url} data-astro-prefetch>
        <Image 
            src={image} 
            alt={imageAlt}
            class="teaImage" 
        />
        <h2>{title}</h2>
    </a>
    <p class="categories" data-category={category}></p>
</article>

<style>
    article {
	/* color code by category */
	--hue: 0;

	&:has([data-category="shengcha"]) {
		--hue: 233.35;
	}

	&:has([data-category="heicha"]) {
		--hue: 91.24;
	}

	&:has([data-category="hongcha"]) {
		--hue: 334.61;
	}

	& img {
		border: 1px solid oklch(93% 0.1 var(--hue));
	}

	& .categories {
		background: oklch(96% 0.05 var(--hue));
		border: 1px solid oklch(93% 0.1 var(--hue));
		color: oklch(35% 0.104 var(--hue));
	}
}

    a {
        color: var(--active);
        text-decoration: none;
    }

    .teaImage {
        max-width: 630px;
        width: 100%;
        height: 100%;
		border-radius: 0.5rem;
		display: block;
		inline-size: 100%;
		object-fit: cover;
    }

    h2 {
        /* color: oklch(25% 0.104 146.51); */
		font-size: clamp(1rem, 9cqw, 1.2rem);
		font-weight: 300;
		letter-spacing: 0.1em;
		line-height: 1.1;
		margin: clamp(0.125rem, 2cqw, 0.375rem) 0;
        text-align: end;
    }

    .categories {
		border-radius: 0.25rem;
		display: inline-block;
		font-size: clamp(0.9rem, 5.5cqw, 1.1rem);
		letter-spacing: 0.15em;
		line-height: 1;
		margin: 0;
		padding: clamp(0.25rem, 2cqw, 0.5rem);
		font-variant: small-caps;
	}

	.categories::after {
		content: attr(data-category);
	}

</style>
