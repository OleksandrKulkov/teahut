---
import { Image } from "astro:assets";
import { Icon } from "astro-icon/components";

const { image1, image2, image3, image4, image5, image1alt, image2alt, image3alt, image4alt, image5alt } = Astro.props;
---

<section class='body'>
    <div class='gallery'>
        <div class='item' data-pos='0'>
          <Image src={image1} alt={image1alt} />
        </div>
        <div class='item' data-pos='1'>
          <Image src={image2} alt={image2alt} />
        </div>
        <div class='item' data-pos='2'>
          <Image src={image3} alt={image3alt} />
        </div>
        <div class='item' data-pos='3'>
          <Image src={image4} alt={image4alt} />
        </div>
        <div class='item' data-pos='4'>
          <Image src={image5} alt={image5alt} />
        </div>
    </div>
</section>

<style>
    .body {
        /* height: 100vh;
        height: 100svh; */
        display: grid;
    }

    .gallery {
        position: relative;
        max-width: 540px;
        width: 100%;
        height: 125vw;
        /* display: grid;
        grid-template-columns: repeat(4, 25vw);
        grid-template-rows: repeat(5, 25vw); */
        /* gap: 1vw; */
    
        &:hover :not(div[data-pos='0'],img) { cursor: pointer; }
    
        & .item {
            position: absolute;
            width: 23.5vw;
            height: 23.5vw;
            overflow: hidden;
            transition: transform 0.6s, width 0.6s, height 0.6s;
            
            & img {
                width: 100%;
                height: 100%;
            }
        }
        
        & div[data-pos='0'] {
            width: 100vw;
            height: 100vw;
            /* grid-area: 1 / 1 / 5 / 5; */
            z-index: 10;
        }
    }

    div[data-pos='0'] { transform: translate(0,0); }
    div[data-pos='1'] { transform: translate(0,102vw); }
    div[data-pos='2'] { transform: translate(25.5vw,102vw); }
    div[data-pos='3'] { transform: translate(51vw,102vw); }
    div[data-pos='4'] { transform: translate(76.5vw,102vw); }

    @media screen  and (min-width: 31rem){
        .body {
            justify-items: center;
        }

        .gallery {
        position: relative;
        max-width: 360px;
        width: 100%;
        height: 451.25px;

        &:hover :not(div[data-pos='0'],img) { cursor: pointer; }
        
        & .item {
            position: absolute;
            width: 86.25px;
            height: 86.25px;
            border-radius: .5rem;
            overflow: hidden;
            transition: transform 0.5s, width 0.5s, height 0.5s;
            
            & img {
                width: 100%;
                height: 100%;
            }
        }
        
        & div[data-pos='0'] { 
      border-radius: 1rem;
    width: 360px;
    height: 360px;
    z-index: 10;
  }
}

div[data-pos='0'] { transform: translate(0,0); }
div[data-pos='1'] { transform: translate(0,365px); }
div[data-pos='2'] { transform: translate(91.25px,365px); }
div[data-pos='3'] { transform: translate(182.5px,365px); }
div[data-pos='4'] { transform: translate(274px,365px); }
}

    @media screen  and (min-width: 48rem){
        .body {
            justify-items: start;
        }
    }

</style>

<script>
    function init(e) {
        if (!e.target.closest('.item')) return;
        let hero = document.querySelector('div[data-pos="0"]');
        let target = e.target.parentElement;
        [target.dataset.pos,hero.dataset.pos] = [hero.dataset.pos,target.dataset.pos];
    }

    window.addEventListener('click',init,false);
</script>